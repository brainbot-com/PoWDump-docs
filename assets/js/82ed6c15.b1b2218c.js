"use strict";(self.webpackChunkpowdump_docs=self.webpackChunkpowdump_docs||[]).push([[771],{3905:(t,e,n)=>{n.d(e,{Zo:()=>h,kt:()=>u});var a=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=a.createContext({}),m=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},h=function(t){var e=m(t.components);return a.createElement(c.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},l=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,c=t.parentName,h=s(t,["components","mdxType","originalType","parentName"]),l=m(n),u=o,d=l["".concat(c,".").concat(u)]||l[u]||p[u]||r;return n?a.createElement(d,i(i({ref:e},h),{},{components:n})):a.createElement(d,i({ref:e},h))}));function u(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=l;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:o,i[1]=s;for(var m=2;m<r;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}l.displayName="MDXCreateElement"},8584:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:3},i="Buyer",s={unversionedId:"getting-started/buyer",id:"getting-started/buyer",title:"Buyer",description:"If you want to participate as a buyer in a swap, you would need some technical knowledge. There is no user interface for",source:"@site/docs/getting-started/buyer.md",sourceDirName:"getting-started",slug:"/getting-started/buyer",permalink:"/getting-started/buyer",draft:!1,editUrl:"https://github.com/brainbot-com/PoWDump-docs/tree/main/docs/getting-started/buyer.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Seller",permalink:"/getting-started/seller"}},c={},m=[{value:"How to run the scripts",id:"how-to-run-the-scripts",level:2},{value:"Available commands",id:"available-commands",level:2},{value:"match",id:"match",level:3},{value:"matchBySwapId",id:"matchbyswapid",level:3},{value:"watch",id:"watch",level:3}],h={toc:m};function p(t){let{components:e,...n}=t;return(0,o.kt)("wrapper",(0,a.Z)({},h,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"buyer"},"Buyer"),(0,o.kt)("p",null,"If you want to participate as a buyer in a swap, you would need some technical knowledge. There is no user interface for\na buyer."),(0,o.kt)("p",null,"Currently, people interested in buying would need to do this through the scripts provided in\nthe ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/brainbot-com/PoWDump"},"powdump repository"),"."),(0,o.kt)("p",null,"The scripts are thought as a starting ground for people who want to build their own more sophisticated trading scripts.\nFor example - you could build a script that compares the price of PoW ETH on PoWDump with the price on other exchanges\nand uses this information to make a decision whether to buy or not."),(0,o.kt)("p",null,"You can of course use the scripts as they are to match a particular swap offer or to match any offer that is\nsubmitted to the smart contract."),(0,o.kt)("h2",{id:"how-to-run-the-scripts"},"How to run the scripts"),(0,o.kt)("admonition",{title:"Prerequisites",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"To run the scripts make sure that you have ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/en/"},"nodejs"),"\n, ",(0,o.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/lang/en/docs/install/"},"yarn classic")," installed &\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/npm/npx#readme"},"npx")," installed."),(0,o.kt)("p",{parentName:"admonition"},"Some knowledge of the command line & git (or at lest knowing how to clone a repository) is required.")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"All commands below were executed on a Mac. There might be some differences if you execute the commands on a different\noperating systems.")),(0,o.kt)("p",null,"To start clone the PoWDump repository:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:brainbot-com/PoWDump.git\n")),(0,o.kt)("p",null,"Then install the dependencies navigate inside the PoWDump directory and run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn\n")),(0,o.kt)("p",null,"navigate inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"packages/bots")," directory and run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npx ts-node src/cmd/match.ts --help\n")),(0,o.kt)("p",null,"The above command should output all the possible cmd you can use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"match.ts <command>\n\nCommands:\n  match.ts match                            Match a commitment from the source\n  <transactionWithSwapCommitment>           chain to the target chain by finding\n  [swapContractAddressOnTargetChain]        a swap commitment in the given\n  [commitmentSourceChainRPC]                transaction hash.\n  [commitmentTargetChainRPC] [privateKey]\n  match.ts matchBySwapId <swapId>           Match a commitment from the source\n  [swapContractAddressOnTargetChain]        chain to the target chain by finding\n  [commitmentSourceChainRPC]                a swap commitment by the given swap\n  [commitmentTargetChainRPC] [privateKey]   id\n  match.ts watch                            Watches the source contract for new\n  <swapContractAddressOnSourceChain>        commitments and matches them on the\n  [swapContractAddressOnTargetChain]        target chain\n  [commitmentSourceChainRPC]\n  [commitmentTargetChainRPC] [privateKey]\n\nOptions:\n  --help     Show help                                                 [boolean]\n  --version  Show version number                                       [boolean]\n")),(0,o.kt)("p",null,"You can get more information about a specific command by running:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npx ts-node src/cmd/match.ts <command> --help\n")),(0,o.kt)("p",null,"for example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npx ts-node src/cmd/match.ts match --help\n")),(0,o.kt)("p",null,"will produce the following output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'match.ts match <transactionWithSwapCommitment>\n[swapContractAddressOnTargetChain] [commitmentSourceChainRPC]\n[commitmentTargetChainRPC] [privateKey]\n\nMatch a commitment from the source chain to the target chain by finding a swap\ncommitment in the given transaction hash.\n\nOptions:\n  --help                              Show help                        [boolean]\n  --version                           Show version number              [boolean]\n  --transactionWithSwapCommitment     The commitment hash to match      [string]\n  --swapContractAddressOnSourceChain  The swapContractAddressOnSourceChain\n                                      address on the source chain\n                                                             [string] [required]\n  --swapContractAddressOnTargetChain  The swapContractAddressOnTargetChain\n                                      address on the target chain\n                                                             [string] [required]\n  --commitmentSourceChainRPC          The source chain the commitment was made\n                                      on       [default: "http://127.0.01:8545"]\n  --commitmentTargetChainRPC          The target chain the commitment has to be\n                                      deployed on\n                        [default: "https://ethereum-goerli-rpc.allthatnode.com"]\n  --privateKey                        The private key to use to sign the\n                                      transaction. You can use .env variable\n                                      POW_DUMP_PRIVATE_KEY to pass this\n                                                             [string] [required]\n')),(0,o.kt)("p",null,"Before going ahead and running the commands, you'll notice that every command\nrequires a private key. You can provide the private key as a command line argument, but that is not recommended\nas it will be visible in your shell history. Instead, you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," file to pass the private key."),(0,o.kt)("p",null,"What we like to do is to create a ",(0,o.kt)("inlineCode",{parentName:"p"},"private-notes")," file in the bots directory with the command arguments we want to use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'export POW_DUMP_privateKey=0x<your-private-key>\nexport POW_DUMP_swapContractAddressOnSourceChain=<contractAddressOnSourceChain>\nexport POW_DUMP_swapContractAddressOnTargetChain=<contractAddressOnTargetChain>\nexport POW_DUMP_commitmentSourceChainRPC="<sourceChainRPC>"\nexport POW_DUMP_commitmentTargetChainRPC="<targetChainRPC>"\n')),(0,o.kt)("p",null,"Then we can source the file before running the commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"source private-notes\n")),(0,o.kt)("p",null,"now our environment variables are set and running any of the script commands will use them."),(0,o.kt)("h2",{id:"available-commands"},"Available commands"),(0,o.kt)("p",null,"As already stated above executing ",(0,o.kt)("inlineCode",{parentName:"p"},"npx ts-node src/cmd/match.ts --help")," will output all the currently available commands."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Since the interaction with the PoWDump Contracts are asynchronous in nature (you have a counterparty on the other hand that\nhave to reveal the secret) the scripts don't exit after they match a commitment. Instead, they will wait for the counterparty\nto reveal the secret. Once this happens they will try to submit the secret to the smart contract on the source chain and exit.")),(0,o.kt)("p",null,"As of the time of writing this documentation the following commands are available:"),(0,o.kt)("h3",{id:"match"},"match"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npx ts-node src/cmd/match.ts match <transactionWithSwapCommitment>\n")),(0,o.kt)("p",null,"This command will match a commitment from the source chain to the target chain by finding a swap commitment in the given\ntransaction hash. "),(0,o.kt)("p",null,"When to use this command?\nIf you know the transaction hash of a Commit transaction that was made on the source chain. The transaction hash is\noutput in the user interface when you submit a swap offer."),(0,o.kt)("h3",{id:"matchbyswapid"},"matchBySwapId"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npx ts-node src/cmd/match.ts matchBySwapId <swapId>\n")),(0,o.kt)("p",null,"This command will match a commitment from the source chain to the target chain by finding a swap commitment by the given swap id."),(0,o.kt)("p",null,"When to use this command?\nThis command is analogous to the ",(0,o.kt)("inlineCode",{parentName:"p"},"match")," command, but instead of providing the transaction hash, you provide the swap id.\nSince swap ids are just numbers, it is way easier to use them. The swap id is output in the user interface when you submit a swap offer."),(0,o.kt)("h3",{id:"watch"},"watch"),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"This command watches the source contract and would try to match any commitment that is made on the source chain without\ntaking into account the current market price and whether the commitment is profitable or not. This command is only\nuseful for testing purposes, but if you want to be profitable you should implement your own checks about the market price.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npx ts-node src/cmd/match.ts watch\n")),(0,o.kt)("p",null,"This command will watch the source contract for new commitments and will match them on the target chain."),(0,o.kt)("p",null,"When to use this command?\nIf you want to match any commitment that is made on the source chain, you can use this command."))}p.isMDXComponent=!0}}]);